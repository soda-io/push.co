// Generated by CoffeeScript 1.7.1
(function() {
  window.Todo = (function() {
    function Todo(elems) {
      this.elems = elems != null ? elems : [];
      this.loadData();
      this.loadTemplates();
    }

    Todo.prototype.generateElems = function() {
      var html;
      if (this.templates.todo_list != null) {
        html = swig.render(this.templates.todo_list, {
          locals: {
            tasks: this.tasks
          }
        });
        $("main article").html(html);
        return this.bindEvents();
      }
    };

    Todo.prototype.bindEvents = function() {
      var elem_names, _i, _results;
      elem_names = (function() {
        _results = [];
        for (_i = 1; _i <= 100; _i++){ _results.push(_i); }
        return _results;
      }).apply(this).map(function(n) {
        return "el-" + n;
      });
      return $("main article .line .content").forEach(function(elem, i) {
        $(elem).off();
        $(elem).data("name", elem_names[i]);
        return new window.T.ShiftBillet(elem, {
          name: elem_names[i]
        });
      });
    };

    Todo.prototype.loadData = function() {
      this.folders = {};
      this.tasks = {};
      return this.tasks = ["foo", "bar", "buzz", "fuzz", "melt"];
    };

    Todo.prototype.loadTemplates = function() {
      this.templates = {};
      return $("script[type='text/tmpl']").each((function(_this) {
        return function(id, el) {
          var name;
          name = $(el).attr("data-name");
          if (0 === name.indexOf("todo_")) {
            _this.templates[name] = el.text;
            return $(el).remove();
          }
        };
      })(this));
    };

    return Todo;

  })();

}).call(this);
